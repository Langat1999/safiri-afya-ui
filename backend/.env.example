# ==============================================================================
# SAFIRI AFYA BACKEND ENVIRONMENT VARIABLES
# ==============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to git!

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
PORT=3001
NODE_ENV=production

# ==============================================================================
# DATABASE CONFIGURATION (SUPABASE)
# ==============================================================================
# Get these from: https://app.supabase.com/project/_/settings/database
# Replace with your actual Supabase credentials

# Session pooler (port 6543) for runtime queries with connection pooling
DATABASE_URL=postgresql://postgres.YOUR_PROJECT_ID:YOUR_PASSWORD@aws-1-eu-west-1.pooler.supabase.com:6543/postgres?pgbouncer=true

# Direct connection (port 5432) for migrations - Transaction mode
DIRECT_URL=postgresql://postgres.YOUR_PROJECT_ID:YOUR_PASSWORD@aws-1-eu-west-1.pooler.supabase.com:5432/postgres

# Supabase API credentials (optional - for direct Supabase client usage)
SUPABASE_URL=https://YOUR_PROJECT_ID.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# ==============================================================================
# AUTHENTICATION & SECURITY
# ==============================================================================
# Generate a secure random string (64+ characters)
# You can generate one with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_jwt_secret_here_minimum_64_characters

# ==============================================================================
# M-PESA PAYMENT INTEGRATION
# ==============================================================================
# Get production credentials from: https://developer.safaricom.co.ke/
MPESA_ENVIRONMENT=sandbox
MPESA_CONSUMER_KEY=your_mpesa_consumer_key
MPESA_CONSUMER_SECRET=your_mpesa_consumer_secret
MPESA_SHORTCODE=your_business_shortcode
MPESA_PASSKEY=your_mpesa_passkey
MPESA_INITIATOR_NAME=your_initiator_name
MPESA_SECURITY_CREDENTIAL=your_security_credential
MPESA_CALLBACK_URL=https://your-app.vercel.app/api/payments/mpesa/callback
MPESA_RESULT_URL=https://your-app.vercel.app/api/payments/mpesa/result
DEVELOPER_MPESA_NUMBER=254XXXXXXXXX
DEVELOPER_COMMISSION_PERCENTAGE=15

# ==============================================================================
# EMAIL SERVICE (SENDGRID)
# ==============================================================================
# Get API key from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.your_sendgrid_api_key_here
FROM_EMAIL=noreply@safiriafya.com
APP_URL=https://your-app.vercel.app

# ==============================================================================
# AI SERVICES
# ==============================================================================
# Get API key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-your_openrouter_key_here

# ==============================================================================
# NEWS & CONTENT APIs
# ==============================================================================
# Get API key from: https://open-platform.theguardian.com/access/
GUARDIAN_API_KEY=your_guardian_api_key_here

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
ALLOWED_ORIGINS=http://localhost:8080,http://localhost:5173,https://your-app.vercel.app
